syntax = "proto3";

package gitaly;

import "shared.proto";
import "options.proto";

service Commit {
  rpc CommitIsAncestor(CommitIsAncestorRequest) returns (CommitIsAncestorResponse) {
    option (gitaly.feature_status) = { 
      status: ENABLED,
      feature_flag: "GITALY_COMMIT_COMMIT_IS_ANCESTOR" 
    };
  }
}

message CommitIsAncestorRequest {
  Repository repository = 1;
  string ancestor_id = 2;
  string child_id = 3;
}

message CommitIsAncestorResponse {
  bool value = 1;
}

syntax = "proto3";

package gitaly;

import "shared.proto";
import "google/api/annotations.proto";

service Commit {
  rpc CommitIsAncestor(CommitIsAncestorRequest) returns (CommitIsAncestorResponse) {
    option (google.api.http) = {
      post: "/v1/commit/commit_is_ancestor"
      body: "*"
    };
  }
}

message CommitIsAncestorRequest {
  Repository repository = 1;
  string ancestor_id = 2;
  string child_id = 3;
}

message CommitIsAncestorResponse {
  bool value = 1;
}
